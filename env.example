# =================================
# Spendly Environment Configuration
# =================================

# Application Configuration
ENVIRONMENT=development
APP_PORT=8000
APP_HOST=0.0.0.0
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# Database Configuration
DB_HOST=database
DB_PORT=5432
DB_NAME=spendly
DB_USER=spendly_user
DB_PASSWORD=change_this_secure_password
DB_URL=postgresql://spendly_user:change_this_secure_password@database:5432/spendly

# For development, you can use a simpler setup:
# DB_HOST=localhost
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_NAME=spendly_dev

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=change_this_redis_password
REDIS_URL=redis://:change_this_redis_password@redis:6379

# For development without password:
# REDIS_PASSWORD=

# JWT Configuration
JWT_SECRET=change_this_to_a_very_long_and_secure_random_string_for_production
JWT_EXPIRE=7d
JWT_ALGORITHM=HS256

# Security Configuration
BCRYPT_ROUNDS=12
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# File Upload Configuration
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf
UPLOAD_URL=http://localhost:3001/uploads

# Currency API Configuration (Optional)
# Get free API key from: https://app.exchangerate-api.com/
CURRENCY_API_KEY=your_api_key_here
CURRENCY_API_URL=https://v6.exchangerate-api.com/v6
CURRENCY_UPDATE_INTERVAL=3600000

# Email Configuration (Optional)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@spendly.local
SMTP_SECURE=false

# For production with real SMTP:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_SECURE=true

# Logging Configuration
LOG_LEVEL=debug
LOG_FILE=
ENABLE_REQUEST_LOGGING=true

# For production:
# LOG_LEVEL=info
# LOG_FILE=/app/logs/app.log

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# Session Configuration
SESSION_SECRET=change_this_session_secret_for_production
SESSION_MAX_AGE=86400000

# Pagination Defaults
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_BUDGET_ALERTS=true
ENABLE_SHARED_EXPENSES=true
ENABLE_FILE_UPLOADS=true
ENABLE_CURRENCY_CONVERSION=true

# Development Tools
LOG_LEVEL=DEBUG
ENABLE_DOCS=true
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# For production, disable debug:
# LOG_LEVEL=INFO
# ENABLE_DOCS=false

# Database Migration
AUTO_MIGRATE=false
FORCE_MIGRATE=false

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=change_this_backup_encryption_key

# Monitoring & Health Checks
HEALTH_CHECK_TIMEOUT=5000
ENABLE_METRICS=true
METRICS_PORT=9090

# Cache Configuration
CACHE_TTL=3600
CACHE_PREFIX=spendly:

# Localization
DEFAULT_LANGUAGE=en
DEFAULT_TIMEZONE=Europe/Zurich
DEFAULT_CURRENCY=EUR
DEFAULT_DATE_FORMAT=DD/MM/YYYY

# =================================
# Production Specific Settings
# =================================

# SSL Configuration (Production)
SSL_CERT_PATH=/etc/ssl/certs/spendly.crt
SSL_KEY_PATH=/etc/ssl/private/spendly.key
FORCE_HTTPS=false

# Database Connection Pool (Production)
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE=10000

# Redis Connection Pool (Production)
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10

# =================================
# Optional External Services
# =================================

# Google OAuth (Future feature)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# AWS S3 (Future feature for file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=eu-west-1
AWS_S3_BUCKET=

# Sentry Error Tracking (Optional)
SENTRY_DSN=

# New Relic Monitoring (Optional)
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=Spendly

# =================================
# Development Only
# =================================

# Database Seeding
SEED_DATABASE=false
SEED_ADMIN_EMAIL=admin@spendly.local
SEED_ADMIN_PASSWORD=admin123

# Testing
TEST_DB_NAME=spendly_test
JEST_TIMEOUT=30000

# =================================
# Configuration Notes
# =================================

# 1. Copy this file to .env and update the values
# 2. Never commit .env files to version control
# 3. Use strong passwords for production
# 4. Update JWT_SECRET and SESSION_SECRET for production
# 5. Configure proper SMTP settings for email features
# 6. Set up currency API for automatic exchange rates
# 7. Enable SSL certificates for production deployment
# 8. Configure backup encryption for sensitive data
# 9. Review and adjust rate limiting for your use case
# 10. Set appropriate log levels for different environments